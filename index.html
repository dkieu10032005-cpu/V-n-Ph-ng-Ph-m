<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Cửa hàng Văn phòng phẩm</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0; padding:0;}
    header {background:#0077cc; padding:10px; position:sticky; top:0; z-index:1000;}
    .menu {list-style:none; display:flex; gap:20px; margin:0; padding:0; justify-content:center;}
    .menu li {display:inline;}
    .menu a {color:white; text-decoration:none; font-weight:bold;}
    .menu a:hover {text-decoration:underline;}

    section {display:none; padding:20px;}
    section.active {display:block;}

    /* Banner */
    .banner {
      position: relative;
      height: 80vh;
      background: url("https://images.unsplash.com/photo-1588590566564-9c013d9d8dfb?auto=format&fit=crop&w=1500&q=80") no-repeat center center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
      border-radius: 0 0 20px 20px;
      overflow: hidden;
    }
    .banner-overlay {
      background: rgba(0, 0, 0, 0.55);
      padding: 40px;
      border-radius: 15px;
    }
    .banner h1 {font-size: 3rem; margin-bottom: 15px;}
    .banner p {font-size: 1.2rem; margin-bottom: 20px;}
    .banner button {
      padding: 12px 25px;
      font-size: 1rem;
      background: #ff9800;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      color: white;
      font-weight: bold;
      transition: 0.3s;
    }
    .banner button:hover {background: #e68900; transform: scale(1.05);}

    /* Form */
    .form-container {max-width:400px; margin:auto;}
    .form-container form {display:flex; flex-direction:column; gap:10px;}
    input {padding:10px; border:1px solid #ccc; border-radius:5px;}

    /* Products */
    .products {display:grid; grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:20px;}
    .product {border:1px solid #ccc; padding:10px; border-radius:10px; text-align:center; background:#fafafa;}
    .product img {max-width:100%; height:150px; object-fit:contain;}
    button {padding:8px 12px; background:#0077cc; color:white; border:none; border-radius:5px; cursor:pointer;}
    button:hover {background:#005fa3;}

    /* Cart */
    .cart-item {display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #ccc; padding:10px 0;}
    .cart-item span {flex:1;}
    .qty-controls {display:flex; align-items:center; gap:5px;}
    .qty-controls button {background:#0077cc; padding:5px 10px;}
    .qty-controls button:hover {background:#005fa3;}
    .cart-item .remove-btn {background:red;}
    .cart-item .remove-btn:hover {background:darkred;}

    /* Checkout */
    #checkout-form {margin-top:20px; border:1px solid #ccc; padding:15px; border-radius:10px; display:none;}
    #checkout-form input {width:100%;}
  </style>
</head>
<body>

  <!-- Thanh menu -->
  <header>
    <nav>
      <ul class="menu">
        <li><a href="#" onclick="showSection('home')">Trang chủ</a></li>
        <li><a href="#" onclick="showSection('login')">Đăng nhập</a></li>
        <li><a href="#" onclick="showSection('register')">Đăng ký</a></li>
        <li><a href="#" onclick="showSection('products')">Sản phẩm</a></li>
        <li><a href="#" onclick="showSection('cart')">Giỏ hàng (<span id="cart-count">0</span>)</a></li>
        <li><a href="#" onclick="showSection('search')">Tìm kiếm</a></li>
      </ul>
    </nav>
  </header>

  <!-- Trang chủ -->
  <section id="home" class="active">
    <div class="banner">
      <div class="banner-overlay">
        <h1>Chào mừng đến với cửa hàng Văn phòng phẩm</h1>
        <p>Mua sắm nhanh chóng - Giá cả hợp lý - Chất lượng đảm bảo</p>
        <button onclick="showSection('products')">Mua ngay</button>
      </div>
    </div>
  </section>

  <!-- Đăng nhập -->
  <section id="login">
    <div class="form-container">
      <h2>Đăng nhập</h2>
      <form>
        <label>Email:</label>
        <input type="email" required>
        <label>Mật khẩu:</label>
        <input type="password" required>
        <button type="submit">Đăng nhập</button>
      </form>
    </div>
  </section>

  <!-- Đăng ký -->
  <section id="register">
    <div class="form-container">
      <h2>Đăng ký</h2>
      <form>
        <label>Họ tên:</label>
        <input type="text" required>
        <label>Email:</label>
        <input type="email" required>
        <label>Mật khẩu:</label>
        <input type="password" required>
        <button type="submit">Đăng ký</button>
      </form>
    </div>
  </section>

  <!-- Danh sách sản phẩm -->
  <section id="products">
    <h2>Danh sách sản phẩm</h2>
    <div class="products">
      <div class="product">
        <img src="bút bi.png" alt="Bút bi">
        <h3>Bút bi</h3>
        <p>3.000đ</p>
        <button onclick="addToCart('Bút bi', 3000)">Thêm vào giỏ</button>
      </div>

      <div class="product">
        <img src="vở.jpg" alt="Vở">
        <h3>Vở</h3>
        <p>20.000đ</p>
        <button onclick="addToCart('Vở', 20000)">Thêm vào giỏ</button>
      </div>

      <div class="product">
        <img src="thước.jpg" alt="Thước">
        <h3>Thước</h3>
        <p>5.000đ</p>
        <button onclick="addToCart('Thước', 5000)">Thêm vào giỏ</button>
      </div>
    </div>
  </section>

  <!-- Giỏ hàng -->
  <section id="cart">
    <h2>Giỏ hàng</h2>
    <div id="cart-items"></div>
    <h3 id="cart-total">Tổng: 0đ</h3>
    <button onclick="showCheckout()" id="checkout-btn" style="display:none;">Thanh toán</button>

    <!-- Form thanh toán -->
    <div id="checkout-form">
      <h3>Thông tin thanh toán</h3>
      <input type="text" id="customer-name" placeholder="Họ tên" required>
      <input type="text" id="customer-address" placeholder="Địa chỉ giao hàng" required>
      <input type="tel" id="customer-phone" placeholder="Số điện thoại" required>
      <button onclick="placeOrder()">Đặt hàng</button>
    </div>
  </section>

  <!-- Tìm kiếm -->
  <section id="search">
    <h2>Tìm kiếm sản phẩm</h2>
    <input type="text" placeholder="Nhập tên sản phẩm..." style="padding:10px; width:300px;">
    <button>Tìm kiếm</button>
  </section>

  <!-- JavaScript -->
  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const shippingFee = 20000;

    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      window.scrollTo(0,0);
      if(id === "cart") renderCart();
    }

    function addToCart(name, price) {
      let item = cart.find(p => p.name === name);
      if(item) {
        item.qty++;
      } else {
        cart.push({name, price, qty:1});
      }
      saveCart();
      updateCartCount();
      alert(name + " đã được thêm vào giỏ!");
    }

    function removeFromCart(name) {
      cart = cart.filter(p => p.name !== name);
      saveCart();
      renderCart();
      updateCartCount();
    }

    function changeQty(name, delta) {
      let item = cart.find(p => p.name === name);
      if(item) {
        item.qty += delta;
        if(item.qty <= 0) {
          removeFromCart(name);
        } else {
          saveCart();
          renderCart();
          updateCartCount();
        }
      }
    }

    function renderCart() {
      let cartItems = document.getElementById("cart-items");
      let total = 0;
      cartItems.innerHTML = "";
      cart.forEach(p => {
        total += p.price * p.qty;
        cartItems.innerHTML += `
          <div class="cart-item">
            <span>${p.name}</span>
            <div class="qty-controls">
              <button onclick="changeQty('${p.name}', -1)">-</button>
              <span>${p.qty}</span>
              <button onclick="changeQty('${p.name}', 1)">+</button>
            </div>
            <span>${(p.price * p.qty).toLocaleString()}đ</span>
            <button class="remove-btn" onclick="removeFromCart('${p.name}')">Xóa</button>
          </div>
        `;
      });
      if(cart.length > 0) {
        total += shippingFee;
        document.getElementById("checkout-btn").style.display = "inline-block";
      } else {
        document.getElementById("checkout-btn").style.display = "none";
        document.getElementById("checkout-form").style.display = "none";
      }
      document.getElementById("cart-total").innerText = "Tổng (bao gồm phí ship " + shippingFee.toLocaleString() + "đ): " + total.toLocaleString() + "đ";
    }

    function updateCartCount() {
      document.getElementById("cart-count").innerText = cart.reduce((sum, p) => sum + p.qty, 0);
    }

    function saveCart() {
      localStorage.setItem("cart", JSON.stringify(cart));
    }

    function showCheckout() {
      document.getElementById("checkout-form").style.display = "block";
    }

    function placeOrder() {
      let name = document.getElementById("customer-name").value;
      let address = document.getElementById("customer-address").value;
      let phone = document.getElementById("customer-phone").value;
      if(!name || !address || !phone) {
        alert("Vui lòng nhập đầy đủ thông tin!");
        return;
      }
      alert("Cảm ơn " + name + "! Đơn hàng sẽ được giao tới " + address + ".\nPhí ship: " + shippingFee.toLocaleString() + "đ.");
      cart = [];
      saveCart();
      updateCartCount();
      renderCart();
      document.getElementById("checkout-form").style.display = "none";
    }

    // Khi tải lại trang
    window.onload = () => {
      updateCartCount();
    };
  </script>

</body>
</html>
